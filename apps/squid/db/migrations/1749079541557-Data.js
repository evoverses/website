module.exports = class Data1749079541557 {
  name = "Data1749079541557";

  async up(db) {
    await db.query(`CREATE TABLE "chain" ("id" character varying NOT NULL, "name" text NOT NULL, "symbol" text NOT NULL, "icon" text, CONSTRAINT "PK_8e273aafae283b886672c952ecd" PRIMARY KEY ("id"))`);
    await db.query(`CREATE INDEX "IDX_d04674dd31adb83181ee0652f4" ON "chain" ("name") `);
    await db.query(`CREATE INDEX "IDX_0d883a8a01754ef12f62cf1cf9" ON "chain" ("symbol") `);
    await db.query(`CREATE TABLE "marketplace_asset" ("id" character varying NOT NULL, "marketplace_id" character varying, "asset_id" character varying, CONSTRAINT "PK_38f954009427f82245d20a5a3e4" PRIMARY KEY ("id"))`);
    await db.query(`CREATE INDEX "IDX_9bda612f6e41e909592055ac27" ON "marketplace_asset" ("marketplace_id") `);
    await db.query(`CREATE INDEX "IDX_b90e53737cca830700f8d4d002" ON "marketplace_asset" ("asset_id") `);
    await db.query(`CREATE TABLE "contract"
                    (
                        "id"         character varying     NOT NULL,
                        "address"    text                  NOT NULL,
                        "name"       text,
                        "symbol"     text,
                        "uri"        text,
                        "metadata"   jsonb,
                        "type"       character varying(11) NOT NULL,
                        "updated_at" TIMESTAMP WITH TIME ZONE,
                        "chain_id"   character varying,
                        CONSTRAINT "PK_17c3a89f58a2997276084e706e8" PRIMARY KEY ("id")
                    )`);
    await db.query(`CREATE INDEX "IDX_4bbe5fb40812718baf74cc9a79" ON "contract" ("address") `);
    await db.query(`CREATE INDEX "IDX_973644690f8ec06af4eebfd3a8" ON "contract" ("name") `);
    await db.query(`CREATE INDEX "IDX_ae5c59dd42750a76aba50d9504" ON "contract" ("symbol") `);
    await db.query(`CREATE INDEX "IDX_59d5a7aca69d7ea58c101a44c6" ON "contract" ("type") `);
    await db.query(`CREATE INDEX "IDX_0db88a9b828754e05dcc3aa267" ON "contract" ("updated_at") `);
    await db.query(`CREATE INDEX "IDX_e9c85040e76cfd970ae44c8583" ON "contract" ("chain_id", "name") `);
    await db.query(`CREATE INDEX "IDX_2e7d2e037942b11cd322ce659f" ON "contract" ("chain_id", "address") `);
    await db.query(`CREATE TABLE "marketplace_admin" ("id" character varying NOT NULL, "marketplace_id" character varying, "admin_id" character varying, CONSTRAINT "PK_aa36f44bd8c5d69356e8cad45f8" PRIMARY KEY ("id"))`);
    await db.query(`CREATE INDEX "IDX_4e884713bcd5ebdde851d6f800" ON "marketplace_admin" ("marketplace_id") `);
    await db.query(`CREATE INDEX "IDX_b53f64352fe08fd84a6189afb2" ON "marketplace_admin" ("admin_id") `);
    await db.query(`CREATE TABLE "marketplace_lister" ("id" character varying NOT NULL, "marketplace_id" character varying, "lister_id" character varying, CONSTRAINT "PK_ab7164a1ebf344b02e033661549" PRIMARY KEY ("id"))`);
    await db.query(`CREATE INDEX "IDX_9dc26a6214d9440049b85c5b34" ON "marketplace_lister" ("marketplace_id") `);
    await db.query(`CREATE INDEX "IDX_e1d03da63e5d2e534b2acde77f" ON "marketplace_lister" ("lister_id") `);
    await db.query(`CREATE TABLE "nft_wallet_balance" ("id" character varying NOT NULL, "balance" numeric NOT NULL, "updated_at" TIMESTAMP WITH TIME ZONE, "nft_id" character varying, "wallet_id" character varying, CONSTRAINT "PK_bba156c414c1c03d64cea6037d9" PRIMARY KEY ("id"))`);
    await db.query(`CREATE INDEX "IDX_2214c5111236633e115d8b816a" ON "nft_wallet_balance" ("wallet_id") `);
    await db.query(`CREATE INDEX "IDX_55ba61bf41d9d4b6b5723fbdf5" ON "nft_wallet_balance" ("balance") `);
    await db.query(`CREATE INDEX "IDX_8a63efacac95ad627c234c5b7d" ON "nft_wallet_balance" ("updated_at") `);
    await db.query(`CREATE INDEX "IDX_7f18cdb7c2f6c8d2d50f354d4e" ON "nft_wallet_balance" ("nft_id", "wallet_id") `);
    await db.query(`CREATE TABLE "nft"
                    (
                        "id"          character varying NOT NULL,
                        "token_id"    numeric           NOT NULL,
                        "metadata"    jsonb,
                        "updated_at"  TIMESTAMP WITH TIME ZONE,
                        "contract_id" character varying,
                        "owner_id"    character varying,
                        CONSTRAINT "PK_8f46897c58e23b0e7bf6c8e56b0" PRIMARY KEY ("id")
                    )`);
    await db.query(`CREATE INDEX "IDX_7e215df412b248db3731737290" ON "nft" ("token_id") `);
    await db.query(`CREATE INDEX "IDX_9191862f0721ccbaf709cf6cbc" ON "nft" ("contract_id") `);
    await db.query(`CREATE INDEX "IDX_83cfd3a290ed70c660f8c9dfe2" ON "nft" ("owner_id") `);
    await db.query(`CREATE INDEX "IDX_8e4ad68e7876f093725588380c" ON "nft" ("updated_at") `);
    await db.query(`CREATE TABLE "token" ("id" character varying NOT NULL, "decimals" integer NOT NULL, "contract_id" character varying, CONSTRAINT "PK_82fae97f905930df5d62a702fc9" PRIMARY KEY ("id"))`);
    await db.query(`CREATE INDEX "IDX_5c85dbbd108d915a13f71de39a" ON "token" ("contract_id") `);
    await db.query(`CREATE TABLE "offer" ("id" character varying NOT NULL, "offer_id" numeric NOT NULL, "quantity" numeric NOT NULL, "total_price" numeric NOT NULL, "expires_at" TIMESTAMP WITH TIME ZONE NOT NULL, "status" character varying(9) NOT NULL, "marketplace_id" character varying, "tx_id" character varying, "offeror_id" character varying, "seller_id" character varying, "nft_id" character varying, "currency_id" character varying, CONSTRAINT "PK_57c6ae1abe49201919ef68de900" PRIMARY KEY ("id"))`);
    await db.query(`CREATE INDEX "IDX_64682cc1a937320dc67a90ac8e" ON "offer" ("offer_id") `);
    await db.query(`CREATE INDEX "IDX_d6a1cff8a5432af727484baf18" ON "offer" ("tx_id") `);
    await db.query(`CREATE INDEX "IDX_acd0e3f4fb7fd6cff6bc7e1aca" ON "offer" ("offeror_id") `);
    await db.query(`CREATE INDEX "IDX_45b848c37e6c17e4900032efd0" ON "offer" ("seller_id") `);
    await db.query(`CREATE INDEX "IDX_9157f7567aa6112c7ff0ee1e23" ON "offer" ("quantity") `);
    await db.query(`CREATE INDEX "IDX_7a25ad345087bd9a8b5fc8821c" ON "offer" ("total_price") `);
    await db.query(`CREATE INDEX "IDX_dd550e23fe7a3843c05526c167" ON "offer" ("currency_id") `);
    await db.query(`CREATE INDEX "IDX_c25b96dc8cf76797fe776b625d" ON "offer" ("expires_at") `);
    await db.query(`CREATE INDEX "IDX_f2cb2cdd931a255bbed910e41f" ON "offer" ("status") `);
    await db.query(`CREATE INDEX "IDX_d3d5356c22b57c39e64973ead8" ON "offer" ("nft_id", "expires_at", "total_price") `);
    await db.query(`CREATE INDEX "IDX_fad3f8fc94c7dbaedfb1a21416" ON "offer" ("marketplace_id", "offer_id") `);
    await db.query(`CREATE TABLE "english_auction_bid" ("id" character varying NOT NULL, "amount" numeric NOT NULL, "tx_id" character varying, "auction_id" character varying, "bidder_id" character varying, CONSTRAINT "PK_7ebe6eacb9bdeef0ff9972ad50e" PRIMARY KEY ("id"))`);
    await db.query(`CREATE INDEX "IDX_67c4682543bff505c44fab1f10" ON "english_auction_bid" ("tx_id") `);
    await db.query(`CREATE INDEX "IDX_95a9a77838b76d28953a4cc03c" ON "english_auction_bid" ("auction_id") `);
    await db.query(`CREATE INDEX "IDX_e0910b59fdd3e97a3247701f05" ON "english_auction_bid" ("bidder_id") `);
    await db.query(`CREATE INDEX "IDX_8ff21f4c820ce4f89429608a96" ON "english_auction_bid" ("amount") `);
    await db.query(`CREATE TABLE "english_auction" ("id" character varying NOT NULL, "auction_id" numeric NOT NULL, "quantity" numeric NOT NULL, "minimum_bid_amount" numeric NOT NULL, "buyout_bid_amount" numeric NOT NULL, "start_at" TIMESTAMP WITH TIME ZONE, "end_at" TIMESTAMP WITH TIME ZONE NOT NULL, "time_buffer_in_seconds" integer NOT NULL, "bid_buffer_bps" integer NOT NULL, "status" character varying(9) NOT NULL, "marketplace_id" character varying, "tx_id" character varying, "creator_id" character varying, "nft_id" character varying, "currency_id" character varying, "winning_bidder_id" character varying, "closer_id" character varying, CONSTRAINT "PK_0e8b7e3f55f80f8c4e9f29f95b2" PRIMARY KEY ("id"))`);
    await db.query(`CREATE INDEX "IDX_74b59d0dc7936e03de6cb44b81" ON "english_auction" ("auction_id") `);
    await db.query(`CREATE INDEX "IDX_652a3bbf1c787685947f4e0874" ON "english_auction" ("tx_id") `);
    await db.query(`CREATE INDEX "IDX_18842010ea42cf6f897de117d5" ON "english_auction" ("creator_id") `);
    await db.query(`CREATE INDEX "IDX_e73805da4dc5981757103d49f3" ON "english_auction" ("nft_id") `);
    await db.query(`CREATE INDEX "IDX_a508f4927a044f30cc1db232c3" ON "english_auction" ("quantity") `);
    await db.query(`CREATE INDEX "IDX_4a14f3c16059a39a66f91b3c24" ON "english_auction" ("minimum_bid_amount") `);
    await db.query(`CREATE INDEX "IDX_6c780e00aa011a65bb87468b11" ON "english_auction" ("buyout_bid_amount") `);
    await db.query(`CREATE INDEX "IDX_78a582697868f70075bc64761d" ON "english_auction" ("currency_id") `);
    await db.query(`CREATE INDEX "IDX_5a82fdd13bd88a12225420b280" ON "english_auction" ("start_at") `);
    await db.query(`CREATE INDEX "IDX_0701112e870dae65eeadccd753" ON "english_auction" ("end_at") `);
    await db.query(`CREATE INDEX "IDX_34f5215d96bfeb322a654f4cd3" ON "english_auction" ("status") `);
    await db.query(`CREATE INDEX "IDX_dab8c1bd93a38bd6953066aaf6" ON "english_auction" ("winning_bidder_id") `);
    await db.query(`CREATE INDEX "IDX_97a02c3b7c4f9af558c7ee14fe" ON "english_auction" ("closer_id") `);
    await db.query(`CREATE UNIQUE INDEX "IDX_6a5d716957be049b9cf40a4952" ON "english_auction" ("marketplace_id", "auction_id") `);
    await db.query(`CREATE TABLE "direct_listing_sale" ("id" character varying NOT NULL, "quantity" numeric NOT NULL, "total_price" numeric NOT NULL, "marketplace_id" character varying, "tx_id" character varying, "seller_id" character varying, "buyer_id" character varying, "listing_id" character varying, CONSTRAINT "PK_a57b859c409ae61003e0fa415a8" PRIMARY KEY ("id"))`);
    await db.query(`CREATE INDEX "IDX_e534661e692d2c77d4696d0a97" ON "direct_listing_sale" ("tx_id") `);
    await db.query(`CREATE INDEX "IDX_3041c8d597b0b3701cdb560ffb" ON "direct_listing_sale" ("seller_id") `);
    await db.query(`CREATE INDEX "IDX_745564a57faeda7ec663b9bf8e" ON "direct_listing_sale" ("buyer_id") `);
    await db.query(`CREATE INDEX "IDX_8f59b884c075c25c9481940a65" ON "direct_listing_sale" ("quantity") `);
    await db.query(`CREATE INDEX "IDX_9deb209095c2841c5a01f57aab" ON "direct_listing_sale" ("total_price") `);
    await db.query(`CREATE INDEX "IDX_5387311a466ab30d64a09bff8d" ON "direct_listing_sale" ("listing_id", "tx_id") `);
    await db.query(`CREATE UNIQUE INDEX "IDX_3c52ce9aa9967c984d6bb005ae" ON "direct_listing_sale" ("marketplace_id", "listing_id") `);
    await db.query(`CREATE TABLE "marketplace" ("id" character varying NOT NULL, "updated_at" TIMESTAMP WITH TIME ZONE, "contract_id" character varying, CONSTRAINT "PK_d9c9a956a1a45b27b56db53bfc8" PRIMARY KEY ("id"))`);
    await db.query(`CREATE INDEX "IDX_a98e0ddb41aa0527f19eaba737" ON "marketplace" ("contract_id") `);
    await db.query(`CREATE INDEX "IDX_fbdd1d4c22032d253a6f57614d" ON "marketplace" ("updated_at") `);
    await db.query(`CREATE TABLE "direct_listing" ("id" character varying NOT NULL, "listing_id" numeric NOT NULL, "quantity" numeric NOT NULL, "price_per_token" numeric NOT NULL, "start_at" TIMESTAMP WITH TIME ZONE NOT NULL, "end_at" TIMESTAMP WITH TIME ZONE NOT NULL, "reserved" boolean NOT NULL, "type" character varying(7) NOT NULL, "status" character varying(9) NOT NULL, "marketplace_id" character varying, "tx_id" character varying, "creator_id" character varying, "nft_id" character varying, "currency_id" character varying, CONSTRAINT "PK_09394556dbd0449ef735ae9b349" PRIMARY KEY ("id"))`);
    await db.query(`CREATE INDEX "IDX_c9d3c3d34665bbad3ddea620f7" ON "direct_listing" ("listing_id") `);
    await db.query(`CREATE INDEX "IDX_105847e6cd87bc144445385ba8" ON "direct_listing" ("marketplace_id") `);
    await db.query(`CREATE INDEX "IDX_a627d55de7c69ea9fcaa75e501" ON "direct_listing" ("tx_id") `);
    await db.query(`CREATE INDEX "IDX_920c80ea136d18abe6ef48d739" ON "direct_listing" ("creator_id") `);
    await db.query(`CREATE INDEX "IDX_14b518a88066892d3c6ac48160" ON "direct_listing" ("quantity") `);
    await db.query(`CREATE INDEX "IDX_2c3affd7822813ba97e1da941d" ON "direct_listing" ("price_per_token") `);
    await db.query(`CREATE INDEX "IDX_4ec78f81ced2a7c1681f1e4dd6" ON "direct_listing" ("currency_id") `);
    await db.query(`CREATE INDEX "IDX_5c9e102b75a16fa631bc9c0c2d" ON "direct_listing" ("start_at") `);
    await db.query(`CREATE INDEX "IDX_22d43a424f3ac611c76f21bfc2" ON "direct_listing" ("end_at") `);
    await db.query(`CREATE INDEX "IDX_e7e7b21f17d4aca99409502bab" ON "direct_listing" ("reserved") `);
    await db.query(`CREATE INDEX "IDX_b97bcb06b4e4d9a6c606a26f32" ON "direct_listing" ("type") `);
    await db.query(`CREATE INDEX "IDX_5d224c90caff56521bbf9d91bf" ON "direct_listing" ("status") `);
    await db.query(`CREATE INDEX "IDX_20719417020c85df78b28c0702" ON "direct_listing" ("nft_id", "status", "reserved", "end_at", "price_per_token") `);
    await db.query(`CREATE TABLE "wallet" ("id" character varying NOT NULL, "address" text NOT NULL, "chain_id" character varying, CONSTRAINT "PK_bec464dd8d54c39c54fd32e2334" PRIMARY KEY ("id"))`);
    await db.query(`CREATE INDEX "IDX_1dcc9f5fd49e3dc52c6d2393c5" ON "wallet" ("address") `);
    await db.query(`CREATE INDEX "IDX_cc5b071530bd854d98d61b0968" ON "wallet" ("chain_id") `);
    await db.query(`CREATE TABLE "transaction" ("id" character varying NOT NULL, "hash" text NOT NULL, "block_id" character varying, "from_id" character varying, CONSTRAINT "PK_89eadb93a89810556e1cbcd6ab9" PRIMARY KEY ("id"))`);
    await db.query(`CREATE INDEX "IDX_de4f0899c41c688529784bc443" ON "transaction" ("hash") `);
    await db.query(`CREATE INDEX "IDX_c0e1460f3c9eee975fee81002d" ON "transaction" ("block_id") `);
    await db.query(`CREATE INDEX "IDX_99298f25613c7c4d7c8a77f9a4" ON "transaction" ("from_id") `);
    await db.query(`CREATE TABLE "block" ("id" character varying NOT NULL, "number" integer NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "chain_id" character varying, CONSTRAINT "PK_d0925763efb591c2e2ffb267572" PRIMARY KEY ("id"))`);
    await db.query(`CREATE INDEX "IDX_38414873c187a3e0c7943bc4c7" ON "block" ("number") `);
    await db.query(`CREATE INDEX "IDX_5c67cbcf4960c1a39e5fe25e87" ON "block" ("timestamp") `);
    await db.query(`CREATE INDEX "IDX_4a93f9f420d5e2c32f108975b7" ON "block" ("chain_id") `);
    await db.query(`CREATE INDEX "IDX_86333adc559bb95c8470becdfb" ON "block" ("id", "timestamp") `);
    await db.query(`ALTER TABLE "marketplace_asset" ADD CONSTRAINT "FK_9bda612f6e41e909592055ac278" FOREIGN KEY ("marketplace_id") REFERENCES "marketplace"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "marketplace_asset" ADD CONSTRAINT "FK_b90e53737cca830700f8d4d002a" FOREIGN KEY ("asset_id") REFERENCES "contract"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "contract" ADD CONSTRAINT "FK_2426410938d1c0f5eada0f76606" FOREIGN KEY ("chain_id") REFERENCES "chain"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "marketplace_admin" ADD CONSTRAINT "FK_4e884713bcd5ebdde851d6f8004" FOREIGN KEY ("marketplace_id") REFERENCES "marketplace"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "marketplace_admin" ADD CONSTRAINT "FK_b53f64352fe08fd84a6189afb25" FOREIGN KEY ("admin_id") REFERENCES "wallet"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "marketplace_lister" ADD CONSTRAINT "FK_9dc26a6214d9440049b85c5b340" FOREIGN KEY ("marketplace_id") REFERENCES "marketplace"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "marketplace_lister" ADD CONSTRAINT "FK_e1d03da63e5d2e534b2acde77f7" FOREIGN KEY ("lister_id") REFERENCES "wallet"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "nft_wallet_balance" ADD CONSTRAINT "FK_058096eaca132f09cdd84b0fa7f" FOREIGN KEY ("nft_id") REFERENCES "nft"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "nft_wallet_balance" ADD CONSTRAINT "FK_2214c5111236633e115d8b816af" FOREIGN KEY ("wallet_id") REFERENCES "wallet"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "nft" ADD CONSTRAINT "FK_9191862f0721ccbaf709cf6cbc1" FOREIGN KEY ("contract_id") REFERENCES "contract"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "nft" ADD CONSTRAINT "FK_83cfd3a290ed70c660f8c9dfe2c" FOREIGN KEY ("owner_id") REFERENCES "wallet"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "token" ADD CONSTRAINT "FK_5c85dbbd108d915a13f71de39ad" FOREIGN KEY ("contract_id") REFERENCES "contract"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "offer" ADD CONSTRAINT "FK_6d2a70dcff02b6f5db5a8260da3" FOREIGN KEY ("marketplace_id") REFERENCES "marketplace"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "offer" ADD CONSTRAINT "FK_d6a1cff8a5432af727484baf181" FOREIGN KEY ("tx_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "offer" ADD CONSTRAINT "FK_acd0e3f4fb7fd6cff6bc7e1acad" FOREIGN KEY ("offeror_id") REFERENCES "wallet"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "offer" ADD CONSTRAINT "FK_45b848c37e6c17e4900032efd07" FOREIGN KEY ("seller_id") REFERENCES "wallet"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "offer" ADD CONSTRAINT "FK_71609884f4478ed41be6672a668" FOREIGN KEY ("nft_id") REFERENCES "nft"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "offer" ADD CONSTRAINT "FK_dd550e23fe7a3843c05526c167c" FOREIGN KEY ("currency_id") REFERENCES "token"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "english_auction_bid" ADD CONSTRAINT "FK_67c4682543bff505c44fab1f102" FOREIGN KEY ("tx_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "english_auction_bid" ADD CONSTRAINT "FK_95a9a77838b76d28953a4cc03cc" FOREIGN KEY ("auction_id") REFERENCES "english_auction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "english_auction_bid" ADD CONSTRAINT "FK_e0910b59fdd3e97a3247701f053" FOREIGN KEY ("bidder_id") REFERENCES "wallet"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "english_auction" ADD CONSTRAINT "FK_a162c8cbfea31412504f23a7cc6" FOREIGN KEY ("marketplace_id") REFERENCES "marketplace"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "english_auction" ADD CONSTRAINT "FK_652a3bbf1c787685947f4e0874d" FOREIGN KEY ("tx_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "english_auction" ADD CONSTRAINT "FK_18842010ea42cf6f897de117d57" FOREIGN KEY ("creator_id") REFERENCES "wallet"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "english_auction" ADD CONSTRAINT "FK_e73805da4dc5981757103d49f3b" FOREIGN KEY ("nft_id") REFERENCES "nft"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "english_auction" ADD CONSTRAINT "FK_78a582697868f70075bc64761d6" FOREIGN KEY ("currency_id") REFERENCES "token"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "english_auction" ADD CONSTRAINT "FK_dab8c1bd93a38bd6953066aaf6c" FOREIGN KEY ("winning_bidder_id") REFERENCES "wallet"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "english_auction" ADD CONSTRAINT "FK_97a02c3b7c4f9af558c7ee14fec" FOREIGN KEY ("closer_id") REFERENCES "wallet"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "direct_listing_sale" ADD CONSTRAINT "FK_63963af0d7871420c2dc6aab0c4" FOREIGN KEY ("marketplace_id") REFERENCES "marketplace"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "direct_listing_sale" ADD CONSTRAINT "FK_e534661e692d2c77d4696d0a97c" FOREIGN KEY ("tx_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "direct_listing_sale" ADD CONSTRAINT "FK_3041c8d597b0b3701cdb560ffbc" FOREIGN KEY ("seller_id") REFERENCES "wallet"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "direct_listing_sale" ADD CONSTRAINT "FK_745564a57faeda7ec663b9bf8e3" FOREIGN KEY ("buyer_id") REFERENCES "wallet"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "direct_listing_sale" ADD CONSTRAINT "FK_b637f7282e395cede27c6af9d4c" FOREIGN KEY ("listing_id") REFERENCES "direct_listing"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "marketplace" ADD CONSTRAINT "FK_a98e0ddb41aa0527f19eaba737c" FOREIGN KEY ("contract_id") REFERENCES "contract"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "direct_listing" ADD CONSTRAINT "FK_105847e6cd87bc144445385ba80" FOREIGN KEY ("marketplace_id") REFERENCES "marketplace"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "direct_listing" ADD CONSTRAINT "FK_a627d55de7c69ea9fcaa75e501b" FOREIGN KEY ("tx_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "direct_listing" ADD CONSTRAINT "FK_920c80ea136d18abe6ef48d7394" FOREIGN KEY ("creator_id") REFERENCES "wallet"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "direct_listing" ADD CONSTRAINT "FK_ad4981fea5dbe847b0cb622239f" FOREIGN KEY ("nft_id") REFERENCES "nft"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "direct_listing" ADD CONSTRAINT "FK_4ec78f81ced2a7c1681f1e4dd6b" FOREIGN KEY ("currency_id") REFERENCES "token"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "wallet" ADD CONSTRAINT "FK_cc5b071530bd854d98d61b0968b" FOREIGN KEY ("chain_id") REFERENCES "chain"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "transaction" ADD CONSTRAINT "FK_c0e1460f3c9eee975fee81002dc" FOREIGN KEY ("block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "transaction" ADD CONSTRAINT "FK_99298f25613c7c4d7c8a77f9a40" FOREIGN KEY ("from_id") REFERENCES "wallet"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    await db.query(`ALTER TABLE "block" ADD CONSTRAINT "FK_4a93f9f420d5e2c32f108975b7f" FOREIGN KEY ("chain_id") REFERENCES "chain"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
  }

  async down(db) {
    await db.query(`DROP TABLE "chain"`);
    await db.query(`DROP INDEX "public"."IDX_d04674dd31adb83181ee0652f4"`);
    await db.query(`DROP INDEX "public"."IDX_0d883a8a01754ef12f62cf1cf9"`);
    await db.query(`DROP TABLE "marketplace_asset"`);
    await db.query(`DROP INDEX "public"."IDX_9bda612f6e41e909592055ac27"`);
    await db.query(`DROP INDEX "public"."IDX_b90e53737cca830700f8d4d002"`);
    await db.query(`DROP TABLE "contract"`);
    await db.query(`DROP INDEX "public"."IDX_4bbe5fb40812718baf74cc9a79"`);
    await db.query(`DROP INDEX "public"."IDX_973644690f8ec06af4eebfd3a8"`);
    await db.query(`DROP INDEX "public"."IDX_ae5c59dd42750a76aba50d9504"`);
    await db.query(`DROP INDEX "public"."IDX_59d5a7aca69d7ea58c101a44c6"`);
    await db.query(`DROP INDEX "public"."IDX_0db88a9b828754e05dcc3aa267"`);
    await db.query(`DROP INDEX "public"."IDX_e9c85040e76cfd970ae44c8583"`);
    await db.query(`DROP INDEX "public"."IDX_2e7d2e037942b11cd322ce659f"`);
    await db.query(`DROP TABLE "marketplace_admin"`);
    await db.query(`DROP INDEX "public"."IDX_4e884713bcd5ebdde851d6f800"`);
    await db.query(`DROP INDEX "public"."IDX_b53f64352fe08fd84a6189afb2"`);
    await db.query(`DROP TABLE "marketplace_lister"`);
    await db.query(`DROP INDEX "public"."IDX_9dc26a6214d9440049b85c5b34"`);
    await db.query(`DROP INDEX "public"."IDX_e1d03da63e5d2e534b2acde77f"`);
    await db.query(`DROP TABLE "nft_wallet_balance"`);
    await db.query(`DROP INDEX "public"."IDX_2214c5111236633e115d8b816a"`);
    await db.query(`DROP INDEX "public"."IDX_55ba61bf41d9d4b6b5723fbdf5"`);
    await db.query(`DROP INDEX "public"."IDX_8a63efacac95ad627c234c5b7d"`);
    await db.query(`DROP INDEX "public"."IDX_7f18cdb7c2f6c8d2d50f354d4e"`);
    await db.query(`DROP TABLE "nft"`);
    await db.query(`DROP INDEX "public"."IDX_7e215df412b248db3731737290"`);
    await db.query(`DROP INDEX "public"."IDX_9191862f0721ccbaf709cf6cbc"`);
    await db.query(`DROP INDEX "public"."IDX_83cfd3a290ed70c660f8c9dfe2"`);
    await db.query(`DROP INDEX "public"."IDX_8e4ad68e7876f093725588380c"`);
    await db.query(`DROP TABLE "token"`);
    await db.query(`DROP INDEX "public"."IDX_5c85dbbd108d915a13f71de39a"`);
    await db.query(`DROP TABLE "offer"`);
    await db.query(`DROP INDEX "public"."IDX_64682cc1a937320dc67a90ac8e"`);
    await db.query(`DROP INDEX "public"."IDX_d6a1cff8a5432af727484baf18"`);
    await db.query(`DROP INDEX "public"."IDX_acd0e3f4fb7fd6cff6bc7e1aca"`);
    await db.query(`DROP INDEX "public"."IDX_45b848c37e6c17e4900032efd0"`);
    await db.query(`DROP INDEX "public"."IDX_9157f7567aa6112c7ff0ee1e23"`);
    await db.query(`DROP INDEX "public"."IDX_7a25ad345087bd9a8b5fc8821c"`);
    await db.query(`DROP INDEX "public"."IDX_dd550e23fe7a3843c05526c167"`);
    await db.query(`DROP INDEX "public"."IDX_c25b96dc8cf76797fe776b625d"`);
    await db.query(`DROP INDEX "public"."IDX_f2cb2cdd931a255bbed910e41f"`);
    await db.query(`DROP INDEX "public"."IDX_d3d5356c22b57c39e64973ead8"`);
    await db.query(`DROP INDEX "public"."IDX_fad3f8fc94c7dbaedfb1a21416"`);
    await db.query(`DROP TABLE "english_auction_bid"`);
    await db.query(`DROP INDEX "public"."IDX_67c4682543bff505c44fab1f10"`);
    await db.query(`DROP INDEX "public"."IDX_95a9a77838b76d28953a4cc03c"`);
    await db.query(`DROP INDEX "public"."IDX_e0910b59fdd3e97a3247701f05"`);
    await db.query(`DROP INDEX "public"."IDX_8ff21f4c820ce4f89429608a96"`);
    await db.query(`DROP TABLE "english_auction"`);
    await db.query(`DROP INDEX "public"."IDX_74b59d0dc7936e03de6cb44b81"`);
    await db.query(`DROP INDEX "public"."IDX_652a3bbf1c787685947f4e0874"`);
    await db.query(`DROP INDEX "public"."IDX_18842010ea42cf6f897de117d5"`);
    await db.query(`DROP INDEX "public"."IDX_e73805da4dc5981757103d49f3"`);
    await db.query(`DROP INDEX "public"."IDX_a508f4927a044f30cc1db232c3"`);
    await db.query(`DROP INDEX "public"."IDX_4a14f3c16059a39a66f91b3c24"`);
    await db.query(`DROP INDEX "public"."IDX_6c780e00aa011a65bb87468b11"`);
    await db.query(`DROP INDEX "public"."IDX_78a582697868f70075bc64761d"`);
    await db.query(`DROP INDEX "public"."IDX_5a82fdd13bd88a12225420b280"`);
    await db.query(`DROP INDEX "public"."IDX_0701112e870dae65eeadccd753"`);
    await db.query(`DROP INDEX "public"."IDX_34f5215d96bfeb322a654f4cd3"`);
    await db.query(`DROP INDEX "public"."IDX_dab8c1bd93a38bd6953066aaf6"`);
    await db.query(`DROP INDEX "public"."IDX_97a02c3b7c4f9af558c7ee14fe"`);
    await db.query(`DROP INDEX "public"."IDX_6a5d716957be049b9cf40a4952"`);
    await db.query(`DROP TABLE "direct_listing_sale"`);
    await db.query(`DROP INDEX "public"."IDX_e534661e692d2c77d4696d0a97"`);
    await db.query(`DROP INDEX "public"."IDX_3041c8d597b0b3701cdb560ffb"`);
    await db.query(`DROP INDEX "public"."IDX_745564a57faeda7ec663b9bf8e"`);
    await db.query(`DROP INDEX "public"."IDX_8f59b884c075c25c9481940a65"`);
    await db.query(`DROP INDEX "public"."IDX_9deb209095c2841c5a01f57aab"`);
    await db.query(`DROP INDEX "public"."IDX_5387311a466ab30d64a09bff8d"`);
    await db.query(`DROP INDEX "public"."IDX_3c52ce9aa9967c984d6bb005ae"`);
    await db.query(`DROP TABLE "marketplace"`);
    await db.query(`DROP INDEX "public"."IDX_a98e0ddb41aa0527f19eaba737"`);
    await db.query(`DROP INDEX "public"."IDX_fbdd1d4c22032d253a6f57614d"`);
    await db.query(`DROP TABLE "direct_listing"`);
    await db.query(`DROP INDEX "public"."IDX_c9d3c3d34665bbad3ddea620f7"`);
    await db.query(`DROP INDEX "public"."IDX_105847e6cd87bc144445385ba8"`);
    await db.query(`DROP INDEX "public"."IDX_a627d55de7c69ea9fcaa75e501"`);
    await db.query(`DROP INDEX "public"."IDX_920c80ea136d18abe6ef48d739"`);
    await db.query(`DROP INDEX "public"."IDX_14b518a88066892d3c6ac48160"`);
    await db.query(`DROP INDEX "public"."IDX_2c3affd7822813ba97e1da941d"`);
    await db.query(`DROP INDEX "public"."IDX_4ec78f81ced2a7c1681f1e4dd6"`);
    await db.query(`DROP INDEX "public"."IDX_5c9e102b75a16fa631bc9c0c2d"`);
    await db.query(`DROP INDEX "public"."IDX_22d43a424f3ac611c76f21bfc2"`);
    await db.query(`DROP INDEX "public"."IDX_e7e7b21f17d4aca99409502bab"`);
    await db.query(`DROP INDEX "public"."IDX_b97bcb06b4e4d9a6c606a26f32"`);
    await db.query(`DROP INDEX "public"."IDX_5d224c90caff56521bbf9d91bf"`);
    await db.query(`DROP INDEX "public"."IDX_20719417020c85df78b28c0702"`);
    await db.query(`DROP TABLE "wallet"`);
    await db.query(`DROP INDEX "public"."IDX_1dcc9f5fd49e3dc52c6d2393c5"`);
    await db.query(`DROP INDEX "public"."IDX_cc5b071530bd854d98d61b0968"`);
    await db.query(`DROP TABLE "transaction"`);
    await db.query(`DROP INDEX "public"."IDX_de4f0899c41c688529784bc443"`);
    await db.query(`DROP INDEX "public"."IDX_c0e1460f3c9eee975fee81002d"`);
    await db.query(`DROP INDEX "public"."IDX_99298f25613c7c4d7c8a77f9a4"`);
    await db.query(`DROP TABLE "block"`);
    await db.query(`DROP INDEX "public"."IDX_38414873c187a3e0c7943bc4c7"`);
    await db.query(`DROP INDEX "public"."IDX_5c67cbcf4960c1a39e5fe25e87"`);
    await db.query(`DROP INDEX "public"."IDX_4a93f9f420d5e2c32f108975b7"`);
    await db.query(`DROP INDEX "public"."IDX_86333adc559bb95c8470becdfb"`);
    await db.query(`ALTER TABLE "marketplace_asset" DROP CONSTRAINT "FK_9bda612f6e41e909592055ac278"`);
    await db.query(`ALTER TABLE "marketplace_asset" DROP CONSTRAINT "FK_b90e53737cca830700f8d4d002a"`);
    await db.query(`ALTER TABLE "contract" DROP CONSTRAINT "FK_2426410938d1c0f5eada0f76606"`);
    await db.query(`ALTER TABLE "marketplace_admin" DROP CONSTRAINT "FK_4e884713bcd5ebdde851d6f8004"`);
    await db.query(`ALTER TABLE "marketplace_admin" DROP CONSTRAINT "FK_b53f64352fe08fd84a6189afb25"`);
    await db.query(`ALTER TABLE "marketplace_lister" DROP CONSTRAINT "FK_9dc26a6214d9440049b85c5b340"`);
    await db.query(`ALTER TABLE "marketplace_lister" DROP CONSTRAINT "FK_e1d03da63e5d2e534b2acde77f7"`);
    await db.query(`ALTER TABLE "nft_wallet_balance" DROP CONSTRAINT "FK_058096eaca132f09cdd84b0fa7f"`);
    await db.query(`ALTER TABLE "nft_wallet_balance" DROP CONSTRAINT "FK_2214c5111236633e115d8b816af"`);
    await db.query(`ALTER TABLE "nft" DROP CONSTRAINT "FK_9191862f0721ccbaf709cf6cbc1"`);
    await db.query(`ALTER TABLE "nft" DROP CONSTRAINT "FK_83cfd3a290ed70c660f8c9dfe2c"`);
    await db.query(`ALTER TABLE "token" DROP CONSTRAINT "FK_5c85dbbd108d915a13f71de39ad"`);
    await db.query(`ALTER TABLE "offer" DROP CONSTRAINT "FK_6d2a70dcff02b6f5db5a8260da3"`);
    await db.query(`ALTER TABLE "offer" DROP CONSTRAINT "FK_d6a1cff8a5432af727484baf181"`);
    await db.query(`ALTER TABLE "offer" DROP CONSTRAINT "FK_acd0e3f4fb7fd6cff6bc7e1acad"`);
    await db.query(`ALTER TABLE "offer" DROP CONSTRAINT "FK_45b848c37e6c17e4900032efd07"`);
    await db.query(`ALTER TABLE "offer" DROP CONSTRAINT "FK_71609884f4478ed41be6672a668"`);
    await db.query(`ALTER TABLE "offer" DROP CONSTRAINT "FK_dd550e23fe7a3843c05526c167c"`);
    await db.query(`ALTER TABLE "english_auction_bid" DROP CONSTRAINT "FK_67c4682543bff505c44fab1f102"`);
    await db.query(`ALTER TABLE "english_auction_bid" DROP CONSTRAINT "FK_95a9a77838b76d28953a4cc03cc"`);
    await db.query(`ALTER TABLE "english_auction_bid" DROP CONSTRAINT "FK_e0910b59fdd3e97a3247701f053"`);
    await db.query(`ALTER TABLE "english_auction" DROP CONSTRAINT "FK_a162c8cbfea31412504f23a7cc6"`);
    await db.query(`ALTER TABLE "english_auction" DROP CONSTRAINT "FK_652a3bbf1c787685947f4e0874d"`);
    await db.query(`ALTER TABLE "english_auction" DROP CONSTRAINT "FK_18842010ea42cf6f897de117d57"`);
    await db.query(`ALTER TABLE "english_auction" DROP CONSTRAINT "FK_e73805da4dc5981757103d49f3b"`);
    await db.query(`ALTER TABLE "english_auction" DROP CONSTRAINT "FK_78a582697868f70075bc64761d6"`);
    await db.query(`ALTER TABLE "english_auction" DROP CONSTRAINT "FK_dab8c1bd93a38bd6953066aaf6c"`);
    await db.query(`ALTER TABLE "english_auction" DROP CONSTRAINT "FK_97a02c3b7c4f9af558c7ee14fec"`);
    await db.query(`ALTER TABLE "direct_listing_sale" DROP CONSTRAINT "FK_63963af0d7871420c2dc6aab0c4"`);
    await db.query(`ALTER TABLE "direct_listing_sale" DROP CONSTRAINT "FK_e534661e692d2c77d4696d0a97c"`);
    await db.query(`ALTER TABLE "direct_listing_sale" DROP CONSTRAINT "FK_3041c8d597b0b3701cdb560ffbc"`);
    await db.query(`ALTER TABLE "direct_listing_sale" DROP CONSTRAINT "FK_745564a57faeda7ec663b9bf8e3"`);
    await db.query(`ALTER TABLE "direct_listing_sale" DROP CONSTRAINT "FK_b637f7282e395cede27c6af9d4c"`);
    await db.query(`ALTER TABLE "marketplace" DROP CONSTRAINT "FK_a98e0ddb41aa0527f19eaba737c"`);
    await db.query(`ALTER TABLE "direct_listing" DROP CONSTRAINT "FK_105847e6cd87bc144445385ba80"`);
    await db.query(`ALTER TABLE "direct_listing" DROP CONSTRAINT "FK_a627d55de7c69ea9fcaa75e501b"`);
    await db.query(`ALTER TABLE "direct_listing" DROP CONSTRAINT "FK_920c80ea136d18abe6ef48d7394"`);
    await db.query(`ALTER TABLE "direct_listing" DROP CONSTRAINT "FK_ad4981fea5dbe847b0cb622239f"`);
    await db.query(`ALTER TABLE "direct_listing" DROP CONSTRAINT "FK_4ec78f81ced2a7c1681f1e4dd6b"`);
    await db.query(`ALTER TABLE "wallet" DROP CONSTRAINT "FK_cc5b071530bd854d98d61b0968b"`);
    await db.query(`ALTER TABLE "transaction" DROP CONSTRAINT "FK_c0e1460f3c9eee975fee81002dc"`);
    await db.query(`ALTER TABLE "transaction" DROP CONSTRAINT "FK_99298f25613c7c4d7c8a77f9a40"`);
    await db.query(`ALTER TABLE "block" DROP CONSTRAINT "FK_4a93f9f420d5e2c32f108975b7f"`);
  }
};
